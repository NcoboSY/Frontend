[{"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\index.js":"1","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\App.js":"2","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\Search.js":"3","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\DateFilters.js":"4","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\Hotels.js":"5","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\BookingDialog.js":"6","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\api.js":"7","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\Offers.js":"8"},{"size":525,"mtime":1626710660000,"results":"9","hashOfConfig":"10"},{"size":1410,"mtime":1626710660000,"results":"11","hashOfConfig":"10"},{"size":2563,"mtime":1626710660000,"results":"12","hashOfConfig":"10"},{"size":1556,"mtime":1626710660000,"results":"13","hashOfConfig":"10"},{"size":3523,"mtime":1699194175074,"results":"14","hashOfConfig":"10"},{"size":1821,"mtime":1626710660000,"results":"15","hashOfConfig":"10"},{"size":3763,"mtime":1699251548351,"results":"16","hashOfConfig":"10"},{"size":3166,"mtime":1699213132908,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1gq99kl",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\index.js",[],["36","37"],"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\App.js",[],"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\Search.js",[],"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\DateFilters.js",[],"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\Hotels.js",[],"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\BookingDialog.js",[],"C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\api.js",["38","39"],"import axios from \"axios\";\n\nconst { CancelToken } = axios;\nconst search = (input) => {\n  if (input) {\n    try {\n      const source = CancelToken.source();\n      const request = axios.get(`/api/search?keyword=${input}`, {\n\n      });\n      return {\n        async process(callback) {\n          request.then((response) => {\n            const json = response.data;\n            console.log(json);\n\n            if (json && json.data) {\n              callback(\n                json.data.map(({ address }) => {\n                  return {\n                    city: address.cityName,\n                    code: address.cityCode,\n                    country: address.countryName,\n                    state: address.stateCode,\n                  };\n                })\n              );\n            }\n          });\n        },\n        cancel() {\n          source.cancel();\n        },\n      };\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  return {\n    process() {\n      return [];\n    },\n    cancel() {},\n  };\n};\nconst json = '';\nconst hotelIds = [];\nconst offers = [];\nconst getHotels = async (cityCode) => {\n  try {\n    const response = await axios.get(\n      `/api/hotels?cityCode=${cityCode}`\n    );\n    const json = response.data;\n    console.log(json);\n    if (json && json.data) {\n\n      for (let i = 0; i < 10; i++){\n        hotelIds.push(json.data[i].hotelId);\n      }  \n      console.log(hotelIds);\n\n      const hotelResponse = await axios.get(`/api/hoteloffers?hotelIds=${hotelIds}`);\n      const hotelJson = hotelResponse.data;\n\n      console.log(hotelJson);\n\n      return hotelJson.data.map(({ hotel }) => hotel);   \n\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return [];\n};\n\n\nconst getHotelOffers = async (hotelIds) => {\n  try {\n    const response = await axios.get(`/api/hoteloffers?hotelIds=${hotelIds}`);\n    const json = response.data;\n    console.log(json);\n    if (json && json.data) {\n      return json.data[0].offers;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return [];\n};\n\nconst getOffers = async (hotelId, checkInDate, checkOutDate) => {\n  try {\n    //console.log(checkInDate + '' + checkOutDate);\n    const response = await axios.get(`/api/offers?hotelIds=${hotelId}&checkInDate=${checkInDate}&checkOutDate=${checkOutDate}`);\n    const json = response.data;\n   \n\n    if (json && json.data) {\n      console.log(json.offers);\n\n      for (let i = 0; i < 10; i++){\n        offers.push(json[i].offers);\n      }  \n      console.log(offers);\n\n      //const offersJson = offers.data;\n\n      return offers;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return [];\n};\n\n\nconst confirmOffer = async (offerId) => {\n  try {\n    const response = await axios.get(`/api/offer?offerId=${offerId}`);\n    const json = response.data;\n\n    if (json && json.data) {\n      return json.data;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return null;\n};\nconst makeBooking = async (offerId) => {\n  const testData = {\n    guests: [\n      {\n        name: {\n          title: \"MR\",\n          firstName: \"BOB\",\n          lastName: \"SMITH\",\n        },\n        contact: {\n          phone: \"+33679278416\",\n          email: \"bob.smith@email.com\",\n        },\n      },\n    ],\n    payments: [\n      {\n        method: \"creditCard\",\n        card: {\n          vendorCode: \"VI\",\n          cardNumber: \"4111111111111111\",\n          expiryDate: \"2023-01\",\n        },\n      },\n    ],\n  };\n\n  try {\n    const response = await axios.post(\n      `/api/booking?offerId=${offerId}`,\n      testData\n    );\n    const json = response.data;\n\n    if (json && json.data) {\n      return json.data;\n    }\n  } catch (error) {\n    console.error(error);\n  }\n  return null;\n};\n\nexport { search, getHotels, getOffers, confirmOffer, makeBooking };\n","C:\\Siyanda Ncobo\\API Stuff\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\src\\Offers.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":46,"column":7,"nodeType":"46","messageId":"47","endLine":46,"endColumn":11},{"ruleId":"44","severity":1,"message":"48","line":78,"column":7,"nodeType":"46","messageId":"47","endLine":78,"endColumn":21},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"no-unused-vars","'json' is assigned a value but never used.","Identifier","unusedVar","'getHotelOffers' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]