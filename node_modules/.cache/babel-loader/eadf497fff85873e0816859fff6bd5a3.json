{"ast":null,"code":"var _jsxFileName = \"C:\\\\Siyanda Ncobo\\\\API Stuff\\\\Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master\\\\src\\\\BookingDialog.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from \"@material-ui/core\";\nimport { confirmOffer, makeBooking } from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingDialog = ({\n  offerId,\n  setOfferId\n}) => {\n  _s();\n  const [available, setAvailable] = useState(null);\n  const handleClose = () => setOfferId(null);\n  const handleBooking = async () => {\n    const response = await makeBooking(offerId);\n    if (response) {\n      console.log(response);\n      handleClose();\n    }\n  };\n  useEffect(() => {\n    if (offerId) {\n      confirmOffer(offerId).then(response => {\n        if (response) {\n          const [offer] = response.offers;\n          setAvailable(offer && offer.id === offerId);\n        } else {\n          setAvailable(false);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    } else {\n      setAvailable(null);\n    }\n  }, [offerId]);\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: Boolean(offerId),\n    onClose: handleClose,\n    fullWidth: true,\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"simple-dialog-title\",\n      children: \"BOOK THE OFFER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n        children: [\"OFFER: \", offerId, \" \", available === false && \" is not available\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        disabled: typeof available !== \"boolean\",\n        children: \"CANCEL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        variant: \"contained\",\n        autoFocus: true,\n        disabled: !available,\n        onClick: handleBooking,\n        children: \"CONTINUE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingDialog, \"dFaEoYDjbWyqUw/STyiLdAUU3Cc=\");\n_c = BookingDialog;\nexport { BookingDialog };\nvar _c;\n$RefreshReg$(_c, \"BookingDialog\");","map":{"version":3,"names":["useEffect","useState","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","confirmOffer","makeBooking","jsxDEV","_jsxDEV","BookingDialog","offerId","setOfferId","_s","available","setAvailable","handleClose","handleBooking","response","console","log","then","offer","offers","id","catch","error","open","Boolean","onClose","fullWidth","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","color","disabled","variant","autoFocus","_c","$RefreshReg$"],"sources":["C:/Siyanda Ncobo/API Stuff/Building-a-Hotel-Booking-App-in-NodeJS-and-React-Part-2-master/src/BookingDialog.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport { confirmOffer, makeBooking } from \"./api\";\n\nconst BookingDialog = ({ offerId, setOfferId }) => {\n  const [available, setAvailable] = useState(null);\n  const handleClose = () => setOfferId(null);\n  const handleBooking = async () => {\n    const response = await makeBooking(offerId);\n\n    if (response) {\n      console.log(response);\n      handleClose();\n    }\n  };\n\n  useEffect(() => {\n    if (offerId) {\n      confirmOffer(offerId)\n        .then((response) => {\n          if (response) {\n            const [offer] = response.offers;\n\n            setAvailable(offer && offer.id === offerId);\n          } else {\n            setAvailable(false);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    } else {\n      setAvailable(null);\n    }\n  }, [offerId]);\n\n  return (\n    <Dialog\n      open={Boolean(offerId)}\n      onClose={handleClose}\n      fullWidth\n      maxWidth=\"xs\"\n    >\n      <DialogTitle id=\"simple-dialog-title\">BOOK THE OFFER</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          OFFER: {offerId} {available === false && \" is not available\"}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={handleClose}\n          color=\"primary\"\n          disabled={typeof available !== \"boolean\"}\n        >\n          CANCEL\n        </Button>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          autoFocus\n          disabled={!available}\n          onClick={handleBooking}\n        >\n          CONTINUE\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport { BookingDialog };\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SACEC,MAAM,EACNC,MAAM,EACNC,aAAa,EACbC,aAAa,EACbC,iBAAiB,EACjBC,WAAW,QACN,mBAAmB;AAC1B,SAASC,YAAY,EAAEC,WAAW,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,aAAa,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACjD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAMiB,WAAW,GAAGA,CAAA,KAAMJ,UAAU,CAAC,IAAI,CAAC;EAC1C,MAAMK,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMC,QAAQ,GAAG,MAAMX,WAAW,CAACI,OAAO,CAAC;IAE3C,IAAIO,QAAQ,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrBF,WAAW,CAAC,CAAC;IACf;EACF,CAAC;EAEDlB,SAAS,CAAC,MAAM;IACd,IAAIa,OAAO,EAAE;MACXL,YAAY,CAACK,OAAO,CAAC,CAClBU,IAAI,CAAEH,QAAQ,IAAK;QAClB,IAAIA,QAAQ,EAAE;UACZ,MAAM,CAACI,KAAK,CAAC,GAAGJ,QAAQ,CAACK,MAAM;UAE/BR,YAAY,CAACO,KAAK,IAAIA,KAAK,CAACE,EAAE,KAAKb,OAAO,CAAC;QAC7C,CAAC,MAAM;UACLI,YAAY,CAAC,KAAK,CAAC;QACrB;MACF,CAAC,CAAC,CACDU,KAAK,CAAEC,KAAK,IAAK;QAChBP,OAAO,CAACO,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC,MAAM;MACLX,YAAY,CAAC,IAAI,CAAC;IACpB;EACF,CAAC,EAAE,CAACJ,OAAO,CAAC,CAAC;EAEb,oBACEF,OAAA,CAACR,MAAM;IACL0B,IAAI,EAAEC,OAAO,CAACjB,OAAO,CAAE;IACvBkB,OAAO,EAAEb,WAAY;IACrBc,SAAS;IACTC,QAAQ,EAAC,IAAI;IAAAC,QAAA,gBAEbvB,OAAA,CAACJ,WAAW;MAACmB,EAAE,EAAC,qBAAqB;MAAAQ,QAAA,EAAC;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAAC,eAClE3B,OAAA,CAACN,aAAa;MAAA6B,QAAA,eACZvB,OAAA,CAACL,iBAAiB;QAAA4B,QAAA,GAAC,SACV,EAACrB,OAAO,EAAC,GAAC,EAACG,SAAS,KAAK,KAAK,IAAI,mBAAmB;MAAA;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,eAChB3B,OAAA,CAACP,aAAa;MAAA8B,QAAA,gBACZvB,OAAA,CAACT,MAAM;QACLqC,OAAO,EAAErB,WAAY;QACrBsB,KAAK,EAAC,SAAS;QACfC,QAAQ,EAAE,OAAOzB,SAAS,KAAK,SAAU;QAAAkB,QAAA,EAC1C;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT3B,OAAA,CAACT,MAAM;QACLsC,KAAK,EAAC,SAAS;QACfE,OAAO,EAAC,WAAW;QACnBC,SAAS;QACTF,QAAQ,EAAE,CAACzB,SAAU;QACrBuB,OAAO,EAAEpB,aAAc;QAAAe,QAAA,EACxB;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACV,CAAC;AAEb,CAAC;AAACvB,EAAA,CAjEIH,aAAa;AAAAgC,EAAA,GAAbhC,aAAa;AAmEnB,SAASA,aAAa;AAAG,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}